<!--
	Generated template for the DeliveryWaitingPage page.

	See http://ionicframework.com/docs/components/#navigation for more info on
	Ionic pages and navigation.
-->



<ion-header>

	<ion-navbar>
		
		<ion-buttons end>
			<button ion-button icon-only color="dark" (click)="this.filter()">
				<ion-icon name="search"></ion-icon>
			</button>
		</ion-buttons>
		<ion-title>Delivery</ion-title>
	</ion-navbar>

</ion-header>

<sidemenu></sidemenu>

<ion-content padding>
	<ion-refresher (ionRefresh)="refresh($event)">
		<ion-refresher-content
			pullingIcon="arrow-dropdown"
			pullingText="Pull to refresh"
			refreshingSpinner="circles"
			refreshingText="Refreshing..."
		></ion-refresher-content>
	</ion-refresher>
	<ion-grid *ngIf="this.total > 0">
		<ion-row>
			<ion-col col-sm-4 col-3>
				<button ion-button full icon-only color="light" [disabled]="!this.enabledPrevBtn" (click)="prevPage()"><ion-icon name="skip-backward"></ion-icon></button>
			</ion-col>
			<ion-col col-sm-4 col-6>
				<button ion-button full color="light" (click)="indexPage()">{{ from }} to {{ to }} of {{ total }}</button>
			</ion-col>
			<ion-col col-sm-4 col-3>
				<button ion-button full icon-only color="light" [disabled]="!this.enabledNextBtn" (click)="nextPage()"><ion-icon name="skip-forward"></ion-icon></button>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-sm-6 col-12 *ngFor="let list of index;">
				<ion-card>
					<img [src]="'https://maps.googleapis.com/maps/api/staticmap?center='+list.latitude+','+list.longitude+'&zoom=15&size=600x300&maptype=roadmap&key='+this.env.gmap_api+'&markers=color:red%7Clabel:Location%7C'+list.latitude+','+list.longitude" style="width: 100%" />
					<ion-card-content>
						<ion-card-title>
							
							{{ list.spk }} - {{ list.project }}
							
						</ion-card-title>
						<p>
							Date Send : {{ this.util.datetimeFormat(list.datetime_send) }}
						</p>
						<p>
							From : {{ list.fullname }}
						</p>
						<p>
							Address : {{ list.address }}
						</p>
						<p>
							Note : {{ list.note }}
						</p>
						<ion-chip>
							<ion-label>{{ list.status }}</ion-label>
						</ion-chip>
						<ion-grid>
							<ion-row>
								<ion-col col-6>
									<button ion-button full (click)="view(list.id)">View</button>
								</ion-col>
								<ion-col col-6>
									<button ion-button full color="secondary" (click)="take(list.id)">Take</button>
								</ion-col>
							</ion-row>
						</ion-grid>
					</ion-card-content>
				</ion-card>
			</ion-col>

		</ion-row>
		<ion-row>
			<ion-col col-sm-4 col-3>
				<button ion-button full icon-only color="light" [disabled]="!this.enabledPrevBtn" (click)="prevPage()"><ion-icon name="skip-backward"></ion-icon></button>
			</ion-col>
			<ion-col col-sm-4 col-6>
				<button ion-button full color="light" (click)="indexPage()">{{ from }} to {{ to }} of {{ total }}</button>
			</ion-col>
			<ion-col col-sm-4 col-3>
				<button ion-button full icon-only color="light" [disabled]="!this.enabledNextBtn" (click)="nextPage()"><ion-icon name="skip-forward"></ion-icon></button>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-content>